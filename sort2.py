# БЛИННАЯ СОРТИРОВКА (PANCAKE SORT)
def f2(a):
    """
    Алгоритм блинной сортировки
    Использует только операцию переворота префикса массива
    """
    def flip(arr, k):
        """Переворачивает первые k элементов массива"""
        i = 0
        while i < k // 2:
            arr[i], arr[k-i-1] = arr[k-i-1], arr[i]
            i += 1
    
    n = len(a)
    for s in range(n, 1, -1):
        # Находим максимальный элемент
        m = a.index(max(a[:s]))
        
        # Переворачиваем до максимального элемента
        if m != s-1:
            if m != 0:
                flip(a, m+1)
            # Переворачиваем всю текущую часть
            flip(a, s)
    
    return a

# Пример использования
if __name__ == "__main__":
    a = [3, 1, 4, 2, 6, 5]
    print("Блинная сортировка:")
    print("Вход:", a)
    print("Выход:", f2(a.copy()))